import{r as f,i as x,c as s,a as l,w as k,v as m,F as r,b as d,t as b,j as y,e as c,u as p,o as a,R as g,k as D}from"./index-BGzHJ37M.js";function h(){this.title="",this.author="",this.year="",this.description=""}const S={class:"details"},I={style:{width:"80%",left:"10%"}},V={__name:"BookDetails",setup(C){const u=D(),e=f(new h),o=f(!1);x(()=>u.meta.mode,B,{immediate:!0});function B(){if(u.meta.mode=="new")e.value=new h,o.value=!0;else if(u.meta.mode=="existing"){let n=JSON.parse(localStorage.getItem("books"));e.value=n[u.params.id],o.value=!1}}function w(){let n=[];e.value.title!=""&&(localStorage.getItem("books")?(n=JSON.parse(localStorage.getItem("books")),u.meta.mode=="new"&&(n.push(e.value),localStorage.setItem("books",JSON.stringify(n))),u.meta.mode=="existing"&&(n[u.params.id]=e.value,localStorage.setItem("books",JSON.stringify(n)))):(n.push(e.value),localStorage.setItem("books",JSON.stringify(n))))}function v(){o.value=!o.value}return(n,t)=>(a(),s(r,null,[l("table",S,[l("tbody",null,[l("tr",null,[t[4]||(t[4]=l("td",null,[l("label",{class:"bookDetailsLabel"},"Titel:")],-1)),l("td",I,[o.value?k((a(),s("textarea",{key:0,spellcheck:"false",rows:"1",class:"bookDetailsInput","onUpdate:modelValue":t[0]||(t[0]=i=>e.value.title=i)},"                    ",512)),[[m,e.value.title]]):(a(),s(r,{key:1},[d(b(e.value.title),1)],64))])]),l("tr",null,[t[5]||(t[5]=l("td",null,[l("label",{class:"bookDetailsLabel"},"Autor:")],-1)),l("td",null,[o.value?k((a(),s("textarea",{key:0,spellcheck:"false",rows:"1",class:"bookDetailsInput","onUpdate:modelValue":t[1]||(t[1]=i=>e.value.author=i)},"                    ",512)),[[m,e.value.author]]):(a(),s(r,{key:1},[d(b(e.value.author),1)],64))])]),l("tr",null,[t[6]||(t[6]=l("td",null,[l("label",{class:"bookDetailsLabel"},"Erscheinungsjahr:")],-1)),l("td",null,[o.value?k((a(),s("textarea",{key:0,spellcheck:"false",rows:"1",class:"bookDetailsInput","onUpdate:modelValue":t[2]||(t[2]=i=>e.value.year=i)},"                    ",512)),[[m,e.value.year]]):(a(),s(r,{key:1},[d(b(e.value.year),1)],64))])]),l("tr",null,[t[7]||(t[7]=l("td",null,[l("label",{class:"bookDetailsLabel"},"Beschreibung:")],-1)),l("td",null,[o.value?k((a(),s("textarea",{key:0,class:"bookDetailsInput",rows:"20","onUpdate:modelValue":t[3]||(t[3]=i=>e.value.description=i),style:{resize:"none"}},"                    ",512)),[[m,e.value.description]]):(a(),s(r,{key:1},[d(b(e.value.description),1)],64))])])])]),o.value?(a(),y(p(g),{key:0,to:{name:"BookTable"},onClick:w,class:"handleChangesButton",style:{left:"65%",top:"80%"}},{default:c(()=>t[8]||(t[8]=[d(" Änderungen speichern ")])),_:1})):(a(),s("button",{key:1,class:"handleChangesButton",onClick:v,style:{left:"65%",top:"80%"}}," Editieren ")),o.value&&p(u).meta.mode=="existing"?(a(),s("button",{key:2,class:"handleChangesButton",onClick:v,style:{left:"20%",top:"80%"}}," Abbrechen ")):(a(),y(p(g),{key:3,to:{name:"BookTable"},class:"handleChangesButton",style:{left:"20%",top:"80%"}},{default:c(()=>[p(u).meta.mode=="existing"?(a(),s(r,{key:0},[d(" Zurück ")],64)):(a(),s(r,{key:1},[d(" Abbrechen ")],64))]),_:1}))],64))}};export{V as default};
